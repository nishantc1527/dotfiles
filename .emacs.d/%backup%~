all: build run clean
.PHONY: all

build: all_tests.cpp
	g++ -g -std=c++2a -I/media/nikhilc1527/My\ Files/Nikhil/Algorithms/src/ all_tests.cpp -lgtest -lgtest_main -pthread -o out /media/nikhilc1527/My\ Files/Nikhil/Algorithms/src/main/cpp/graphtheory/GraphMaker.cpp /media/nikhilc1527/My\ Files/Nikhil/Algorithms/src/main/cpp/graphtheory/shortestpaths/BellmanFord.cpp

valgrind: out
	valgrind --tool=memcheck --leak-check=full --show-leak-kinds=all --track-origins=yes --quiet --log-file=valgrind-out.txt ./out --gtest_filter=*.Duplicates*

run:
ifdef $(filters)
	./out --gtest_filters=$(filters)
else
	./out
endif

clean: out
	rm -f out*
